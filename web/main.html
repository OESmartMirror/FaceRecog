<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href=".\css\style.css">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>App</title>
    <script type="text/javascript" src="/eel.js"></script>
    <script type="text/javascript">

        eel.expose(DisplayUser);
        async function DisplayUser() {
            let user = await eel.loop_recog_for(3)();
            if (user == -1){
                document.getElementById("User").style.opacity = 0;
                document.getElementById("User").innerHTML = "";
                document.getElementById("cell-3").style.opacity = 0;
                document.getElementById("cell-5").style.opacity = 0;
            }else{

                document.getElementById("User").innerHTML = "Welcome, " + user;
                document.getElementById("User").style.opacity = 1
                document.getElementById("cell-3").style.opacity = 1;
                document.getElementById("cell-5").style.opacity = 1;
            }

            }


        const myVar = setInterval(myTimer, 1000);
        const recog_timer = setInterval(DisplayUser, 5000);

        function myTimer() {
            let d = new Date();
            document.getElementById("Clock").innerHTML = d.toLocaleTimeString();
        }


    </script>
</head>
<body class="black">
    <div class="container-fluid" >

        <div id="row-0" class="d-flex justify-content-between">



            <div id="cell-0" class="align-self-center">
                <p id="User" class="user"></p>
                <script type="text/javascript">
                       DisplayUser();
                </script>
            </div>



            <div id="cell-1" class="align-self-center">

            </div>



            <div id="cell-2" class="align-self-center">
                <p id="Clock" class="time"></p>
            </div>


        </div>



        <div id="row-1" class="d-flex justify-content-between">



            <div id="cell-3" class="align-self-center">
                <h2>Today's Events</h2>
                <table id="eventTable">
                <thead>
                    <th>Time</th>
                    <th>Event</th>
                    <th>Location</th>
                </thead>
                <tbody id="events">
                <tr class="now">
                    <td>9:30-11:30</td>
                    <td>Meeting</td>
                    <td>Germany</td>
                </tr>
                </tbody>
                </table>

                <script src=".\scripts\script.js"></script>
                <script>
                var timerId = setInterval(() => {
                    EventUpdate();
                }, 10000);
                </script>

            </div>



            <div id="cell-4" class="align-self-center">

            </div>



            <div id="cell-5" class="align-self-center">
                <script type='text/javascript'
                    src='https://darksky.net/widget/default/47.19112696899816,18.424762578125/ca12/en.js?width=100%&height=350&title=Székesfehérvár,
                    Fejér &textColor=ffffff&bgColor=000000&transparency=false&skyColor=undefined&fontFamily=Default&customFont=&units=ca
                    &htColor=ffffff&ltColor=cecece&displaySum=yes&displayHeader=yes'>
                </script>

            </div>



        </div>



        <div id="row-2" class="d-flex justify-content-between">



            <div id="cell-6" class="align-self-center">

            </div>



            <div id="cell-7" class="align-self-center">

            </div>



            <div id="cell-8" class="align-self-center">

                <div id="qrcode">

                </div>
            </div>



        </div>

    </div>

</body>
</html>